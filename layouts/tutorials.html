<!doctype html>
<html>
  <head>
    <title><% if item[:category] %><%= item[:category] %> - <% end %><%= item[:title] %></title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <meta name="author" content="Jeremy Lucas"/>
    <meta name="theme-color" content="#aaaaaa"/>
    <link href="/styles/tutorials.css" rel="stylesheet"/>
  </head>
  <body>
    <% if item[:status] != 'ready' %>
    <header style="background-color: #ff0; color: #000; padding: 1em; font-weight: bold;">
      WARNING: You've somehow managed to stumble upon a WIP document. Feel free to continue
      reading, but don't come crying to me if you find any mistakes!
    </header>
    <% end %>
    <!-- TODO: Add ToC -->
    <main>
      <article>
        <h1><%= item[:title] %></h1>
        <!--<h6><%= display_date(item) %></h6>-->
        <%= yield %>
      </article>
      <footer>
        <nav>
          <section>
            <aside>
              <% if item[:prev] %>
              Previous:
              <br />
              <a href="<%= item[:prev] %>"><%= item_for_url(item[:prev])[:title] %></a>
              <% end %>
            </aside>
            <aside>
              <% if item[:next] %>
              Next:
              <br />
              <a href="<%= item[:next] %>"><%= item_for_url(item[:next])[:title] %></a>
              <% end %>
            </aside>
          </section>
        </nav>
        <p><a href="/">&larr; Back to main site</a></p>
        <% if item[:edits] %>
        <aside id="edits">
          <details>
            <summary>Edit history</summary>
            <ol>
            <% item[:edits].each do |edit| %>
              <li><%= edit[:date] %>: <%= edit[:desc] %></li>
            <% end %>
            </ol>
          </details>
        </aside>
        <% end %>
      </footer>
    </main>
    <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-60767635-1', 'auto');ga('send', 'pageview');</script>
    <script src="/scripts/scrollProgress.min.js"></script>
    <script src="/scripts/tutorials.js"></script>
    <script>
      scrollProgress.set({
        color: '#555',
        height: '6px',
        bottom: false
      });
    </script>
  </body>
</html>
